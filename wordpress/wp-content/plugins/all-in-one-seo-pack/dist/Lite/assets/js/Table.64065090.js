import{k as g,d as h}from"./index.4a5acef5.js";import{n as o}from"./vueComponentNormalizer.58b0a173.js";import{C as v}from"./Tooltip.060399ab.js";import{T as f}from"./Slide.8aaa5049.js";var y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"aioseo-wp-additional-filters alignleft actions"},[e._l(e.additionalFilters,function(s,l){return[t("label",{key:l+"_label",staticClass:"screen-reader-text",attrs:{for:"filter-by-date"}},[e._v(e._s(s.label))]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilters[s.name],expression:"selectedFilters[filter.name]"}],key:l+"_select",attrs:{name:s.name},on:{change:[function(n){var r=Array.prototype.filter.call(n.target.options,function(i){return i.selected}).map(function(i){var b="_value"in i?i._value:i.value;return b});e.$set(e.selectedFilters,s.name,n.target.multiple?r:r[0])},function(n){return e.$emit("change",{name:s.name,selectedValue:n.target.value})}]}},e._l(s.options,function(n,r){return t("option",{key:r,domProps:{value:n.value}},[e._v(" "+e._s(n.label)+" ")])}),0)]}),t("button",{staticClass:"button action",on:{click:function(s){return e.$emit("process-additional-filters",e.selectedFilters)}}},[e._v(" "+e._s(e.strings.filter)+" ")])],2)},k=[];const P={props:{additionalFilters:{type:Array,required:!0},selectedFilters:{type:Object,default(){return{}}}},data(){return{strings:{filter:this.$t.__("Filter",this.$td)}}},mounted(){this.setInitialOptions()},updated(){this.setInitialOptions()},methods:{setInitialOptions(){this.additionalFilters.forEach(e=>{this.selectedFilters[e.name]||this.$set(this.selectedFilters,e.name,e.options[0].value)})}}},c={};var $=o(P,y,k,!1,w,null,null,null);function w(e){for(let a in c)this[a]=c[a]}const C=function(){return $.exports}();var N=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"aioseo-wp-bulk-actions alignleft actions bulkactions"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.bulkAction,expression:"bulkAction"}],attrs:{disabled:e.disableTable},on:{change:function(s){var l=Array.prototype.filter.call(s.target.options,function(n){return n.selected}).map(function(n){var r="_value"in n?n._value:n.value;return r});e.bulkAction=s.target.multiple?l:l[0]}}},[t("option",{attrs:{value:"-1"}},[e._v(e._s(e.strings.bulkActions))]),e._l(e.bulkOptions,function(s,l){return t("option",{key:l,domProps:{value:s.value}},[e._v(e._s(s.label))])})],2),t("button",{staticClass:"button action",attrs:{disabled:e.disableTable},on:{click:function(s){e.bulkAction!=="-1"&&e.$emit("process-bulk-action",e.bulkAction)}}},[e._v(" "+e._s(e.strings.apply)+" ")])])},T=[];const A={props:{bulkOptions:{type:Array,required:!0},disableTable:Boolean},data(){return{bulkAction:"-1",strings:{bulkActions:this.$t.__("Bulk Actions",this.$td),apply:this.$t.__("Apply",this.$td)}}}},u={};var F=o(A,N,T,!1,x,null,null,null);function x(e){for(let a in u)this[a]=u[a]}const B=function(){return F.exports}();var S=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"aioseo-wp-items-per-page alignleft"},[t("label",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.itemsPerPage,expression:"itemsPerPage"}],attrs:{disabled:e.disableTable},on:{change:function(s){var l=Array.prototype.filter.call(s.target.options,function(n){return n.selected}).map(function(n){var r="_value"in n?n._value:n.value;return r});e.itemsPerPage=s.target.multiple?l:l[0]}}},e._l(e.items,function(s,l){return t("option",{key:l,domProps:{value:s}},[e._v(e._s(s))])}),0),t("span",[e._v(e._s(e.strings.itemsPerPage))])])])},R=[];const I={props:{value:Number,disableTable:Boolean},data(){return{items:[5,10,20,25,50,100],itemsPerPage:20,strings:{itemsPerPage:this.$t.__("items per page",this.$td)}}},watch:{itemsPerPage(e){this.$emit("input",e)}},mounted(){this.itemsPerPage=this.value}},p={};var O=o(I,S,R,!1,j,null,null,null);function j(e){for(let a in p)this[a]=p[a]}const q=function(){return O.exports}();var E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"tablenav-pages pagination"},[t("span",{staticClass:"displaying-num"},[e._v(e._s(e.$numbers.numberFormat(e.totals.total))+" "+e._s(e.strings.items))]),t("span",{staticClass:"pagination-links"},[t(e.pageNumber===1?"span":"a",{tag:"component",class:e.pageNumber===1?"tablenav-pages-navspan button disabled":"first-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.pageNumber===1||e.toPage(1)}}},[e._v(" \xAB ")]),t(e.pageNumber===1?"span":"a",{tag:"component",class:e.pageNumber===1?"tablenav-pages-navspan button disabled":"prev-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.pageNumber===1||e.toPage(e.pageNumber-1)}}},[e._v("\u2039")]),t("span",{staticClass:"paging-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pageNumber,expression:"pageNumber"}],staticClass:"current-page",attrs:{type:"number",name:"paged",size:"2",min:1,max:e.totals.pages||1,step:1,"aria-describedby":"table-paging",disabled:!e.totals.pages||e.disableTable},domProps:{value:e.pageNumber},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.toPage(e.pageNumber)},input:function(s){s.target.composing||(e.pageNumber=s.target.value)}}}),t("span",{staticClass:"tablenav-paging-text"},[e._v(" "+e._s(e.strings.of)+" "+e._s(e.totals.pages||0)+" ")])]),t(e.pageNumber===e.totals.pages||!e.totals.pages?"span":"a",{tag:"component",class:e.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"next-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.pageNumber===e.totals.pages||!e.totals.pages||e.toPage(e.pageNumber+1)}}},[e._v(" \u203A ")]),t(e.pageNumber===e.totals.pages||!e.totals.pages?"span":"a",{tag:"component",class:e.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"last-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.pageNumber===e.totals.pages||!e.totals.pages||e.toPage(e.totals.pages)}}},[e._v(" \xBB ")])],1)])},D=[];const M={props:{totals:{type:Object,required:!0},initialPageNumber:{type:Number,default(){return 1}},disableTable:Boolean},data(){return{pageNumber:1,strings:{of:this.$t.__("of",this.$td),items:this.$t.__("items",this.$td)}}},watch:{initialPageNumber(e){e!==this.pageNumber&&(this.pageNumber=e)}},methods:{toPage(e){this.pageNumber=e,this.$emit("paginate",parseInt(e))}},created(){this.pageNumber=this.initialPageNumber}},d={};var W=o(M,E,D,!1,L,null,null,null);function L(e){for(let a in d)this[a]=d[a]}const H=function(){return W.exports}();var z=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("th",{staticClass:"aioseo-manage-column manage-column",class:[{sortable:!e.disableTable&&e.column.sortable,asc:e.column.sortDir==="asc"&&e.column.sortable,desc:e.column.sortDir==="desc"&&e.column.sortable,sorted:e.column.sortable&&e.column.sorted},e.column.slug],style:{width:e.column.width},attrs:{scope:"col"}},[e.allowTooltipIcon&&e.column.tooltipIcon?[t("div",{staticClass:"aioseo-table-header-tooltip-icon"},[t("core-tooltip",{staticClass:"action",attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.column.label)+" ")]},proxy:!0}],null,!1,1239929371)},[t(e.column.tooltipIcon,{tag:"component"})],1)],1)]:e._e(),!e.allowTooltipIcon||!e.column.tooltipIcon?[e.column.sortable?[t("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),function(l){return e.$emit("sort-column",e.column,l)}.apply(null,arguments)}}},[t("span",[e._v(e._s(e.column.label))]),t("span",{staticClass:"sorting-indicator"})])]:e._e(),e.column.sortable?e._e():[e._v(" "+e._s(e.column.label)+" ")]]:e._e()],2)},U=[];const V={compnents:{CoreTooltip:v},props:{column:{type:Object,required:!0},disableTable:Boolean,allowTooltipIcon:Boolean}},m={};var G=o(V,z,U,!1,J,null,null,null);function J(e){for(let a in m)this[a]=m[a]}const K=function(){return G.exports}();var Q=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"aioseo-wp-table"},[e.showHeader?t("div",{staticClass:"header"},[t("ul",{staticClass:"subsubsub"},e._l(e.filters,function(s,l){return t("li",{key:l,class:s.slug},[t("span",{staticClass:"name",class:{active:s.active}},[!s.active&&!e.disableTable?t("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.processFilter(s)}}},[e._v(" "+e._s(s.name)+" "),e.showFilterCount(s)?t("span",[e._v("\xA0("+e._s(e.$numbers.numberFormat(s.count))+")")]):e._e()]):e._e(),s.active||e.disableTable?[e._v(" "+e._s(s.name)+" "),e.showFilterCount(s)?t("span",[e._v("\xA0("+e._s(e.$numbers.numberFormat(s.count))+")")]):e._e()]:e._e()],2),l+1<e.filters.length?t("span",{staticClass:"separator"},[e._v("|")]):e._e()])}),0),e.showSearch?t("p",{staticClass:"search-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"search",id:"post-search-input",name:"s",disabled:e.disableTable},domProps:{value:e.searchTerm},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.processSearch.apply(null,arguments)},search:e.processSearch,input:function(s){s.target.composing||(e.searchTerm=s.target.value)}}}),t("input",{staticClass:"button",attrs:{type:"submit",id:"search-submit",disabled:e.disableTable},domProps:{value:e.searchLabel},on:{click:function(s){return s.preventDefault(),e.processSearch.apply(null,arguments)}}})]):e._e(),t("div",{staticClass:"tablenav top"},[e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?t("core-wp-bulk-actions",{attrs:{"bulk-options":e.bulkOptions,"disable-table":e.disableTable},on:{"process-bulk-action":e.processBulkAction}}):e._e(),e.additionalFilters&&e.additionalFilters.length?t("core-wp-additional-filters",{attrs:{"additional-filters":e.additionalFilters,"selected-filters":e.selectedFilters},on:{change:function(s){return e.$emit("additional-filter-option-selected",s)},"process-additional-filters":e.processAdditionalFilters}}):e._e(),e.showPagination?t("core-wp-pagination",{attrs:{totals:e.totals,"initial-page-number":e.pageNumber,"disable-table":e.disableTable},on:{paginate:e.processPaginate}}):e._e(),t("br",{staticClass:"clear"})],1)]):e._e(),t("div",{staticClass:"wp-table"},[t("table",{ref:"table",staticClass:"wp-list-table widefat fixed",class:{blurred:e.blurRows},attrs:{cellpadding:"0",cellspacing:"0","aria-label":"Paginated Table"}},[t("thead",[t("tr",[e.showBulkActions?t("td",{staticClass:"manage-column column-cb check-column"},[t("input",{attrs:{type:"checkbox",disabled:e.loading||e.disableTable}})]):e._e(),e._l(e.columns,function(s,l){return t("core-wp-table-header-footer",{key:l,attrs:{column:s,"disable-table":e.disableTable,"allow-tooltip-icon":""},on:{"sort-column":function(n,r){return e.$emit("sort-column",n,r)}}})})],2)]),e.rows?t("tbody",{attrs:{id:"the-list"}},[e.loading?t("div",{staticClass:"loader-overlay"},[t("core-loader")],1):e._e(),e._l(e.rows,function(s,l){return[t("tr",{key:l+"_"+s.id,staticClass:"main-row",class:{even:l%2===0,enabled:s.enabled||!s.hasOwnProperty("enabled")},attrs:{"data-row-id":s.rowIndex&&s[s.rowIndex]||s.id||s.url||l}},[e.showBulkActions?t("th",{staticClass:"check-column",attrs:{scope:"row"}},[s.preventBulkAction?e._e():t("input",{attrs:{type:"checkbox",disabled:e.disableTable}})]):e._e(),e._l(e.columns,function(n,r){return t("td",{key:r,staticClass:"manage-column",class:n.slug},[e.$scopedSlots[n.slug]?[e._t(n.slug,null,{row:s,column:s[n.slug],editRow:e.editRow,index:l,editRowActive:e.activeRow===l})]:e._e(),e.$scopedSlots[n.slug]?e._e():t("span",[e._v(" "+e._s(s[n.slug])+" ")])],2)})],2),t("tr",{key:l+"_edit",staticClass:"edit-row",class:{even:l%2===0}},[t("td",{staticClass:"edit-row-content",attrs:{colspan:e.showBulkActions?e.columns.length+1:e.columns.length}},[t("transition-slide",{staticClass:"wrapper",attrs:{tag:"div",active:l===e.activeRow}},[t("div",{staticClass:"border"},[e._t("edit-row",null,{row:s,index:l,editRow:e.editRow})],2)])],1)])]}),e.rows.length?e._e():[t("td",{attrs:{colspan:e.columns.length+1}},[t("div",{staticClass:"no-results"},[e.loading?e._e():t("span",[e._v(e._s(e.strings.noResults))])])])]],2):e._e(),e.showTableFooter?t("tfoot",[t("tr",[e.showBulkActions?t("td",{staticClass:"manage-column column-cb check-column"},[t("input",{attrs:{type:"checkbox",disabled:e.loading||e.disableTable}})]):e._e(),e._l(e.columns,function(s,l){return t("core-wp-table-header-footer",{key:l,attrs:{column:s,"disable-table":e.disableTable},on:{"sort-column":function(n,r){return e.$emit("sort-column",n,r)}}})})],2)]):e._e()]),e._t("cta")],2),e.showTableFooter?t("div",{staticClass:"tablenav bottom"},[e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?t("core-wp-bulk-actions",{attrs:{"bulk-options":e.bulkOptions,"disable-table":e.disableTable},on:{"process-bulk-action":e.processBulkAction}}):e._e(),e.showItemsPerPage?t("core-wp-items-per-page",{attrs:{"disable-table":e.disableTable},model:{value:e.itemsPerPage,callback:function(s){e.itemsPerPage=s},expression:"itemsPerPage"}}):e._e(),t("div",{staticClass:"alignleft actions"}),e.showPagination?t("core-wp-pagination",{attrs:{totals:e.totals,"initial-page-number":e.pageNumber,"disable-table":e.disableTable},on:{paginate:e.processPaginate}}):e._e(),t("br",{staticClass:"clear"})],1):e._e()])},X=[];const Y={components:{CoreLoader:g,CoreWpAdditionalFilters:C,CoreWpBulkActions:B,CoreWpItemsPerPage:q,CoreWpPagination:H,CoreWpTableHeaderFooter:K,TransitionSlide:f},props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},filters:{type:Array,required:!1},totals:{type:Object,required:!1},loading:Boolean,showSearch:{type:Boolean,default(){return!0}},showBulkActions:{type:Boolean,default(){return!0}},showPagination:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},searchLabel:{type:String,default(){return this.$t.__("Search",this.$td)}},initialPageNumber:{type:Number,default(){return 1}},initialItemsPerPage:{type:Number,default(){return 20}},initialSearchTerm:{type:String,default(){return""}},bulkOptions:Array,additionalFilters:Array,selectedFilters:Object,itemsPerPageFilter:String,blurRows:Boolean,disableTable:Boolean,showItemsPerPage:Boolean},data(){return{itemsPerPage:null,searchTerm:"",pageNumber:1,activeRow:null,strings:{items:this.$t.__("items",this.$td),noResults:this.$t.__("No items found.",this.$td)}}},watch:{initialPageNumber(e){this.pageNumber=e},pageNumber(e){if(Math.abs(e)!==e){this.pageNumber=Math.floor(e);return}if(this.totals&&e>this.totals.pages){this.pageNumber=this.totals.pages;return}1>e&&(this.pageNumber=1)},itemsPerPage(e,a){a!==null&&this.processChangeItemsPerPage()}},methods:{showFilterCount(e){return Object.prototype.hasOwnProperty.call(e,"count")},editRow(e){if(e===null||this.activeRow===e){this.activeRow=null;return}this.activeRow=e},processSearch(){h(()=>{this.$emit("search",this.searchTerm)},100)},processChangeItemsPerPage(){this.$emit("process-change-items-per-page",this.itemsPerPage)},processBulkAction(e){this.$emit("process-bulk-action",{action:e,selectedRows:this.selectedItems()}),this.resetSelectedItems()},processPaginate(e){this.pageNumber=e,this.$emit("paginate",e,this.searchTerm)},processFilter(e){this.pageNumber=1,this.searchTerm="",this.$emit("filter-table",e)},processAdditionalFilters(e){this.pageNumber=1,this.searchTerm="",this.$emit("process-additional-filters",{filters:e})},selectedItems(){const e=this.$refs.table.querySelectorAll("tbody tr.main-row"),a=[];return e.forEach(t=>{const s=t.querySelector("th.check-column input");s&&s.checked&&a.push(t.dataset.rowId)}),a},resetSelectedItems(){const e=this.$refs.table.querySelectorAll(".check-column input:checked");e&&e.forEach(a=>a.checked=!1)},setPageNumber(e){this.pageNumber=e}},created(){this.pageNumber=this.initialPageNumber,this.searchTerm=this.initialSearchTerm,this.itemsPerPage=this.initialItemsPerPage}},_={};var Z=o(Y,Q,X,!1,ee,null,null,null);function ee(e){for(let a in _)this[a]=_[a]}const le=function(){return Z.exports}();export{le as C};
