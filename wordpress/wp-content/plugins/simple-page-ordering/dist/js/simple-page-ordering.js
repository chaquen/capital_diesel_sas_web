!function(){"use strict";window["jquery-ui-sortable"],window.jQuery;function e(n){if("children"!==n){var r=jQuery.parseJSON(n),i=r.new_pos;for(var a in i)if("next"!==a){var o=document.getElementById("inline_"+a);if(null!==o&&i.hasOwnProperty(a)){var l=o.querySelector(".menu_order");if(void 0!==i[a].menu_order){null!==l&&(l.textContent=i[a].menu_order);var d=o.querySelector(".post_parent");null!==d&&(d.textContent=i[a].post_parent);var s=null,p=o.querySelector(".post_title");null!==p&&(s=p.innerHTML);for(var c=0;c<i[a].depth;)s="&mdash; "+s,c++;var u=o.parentNode.querySelector(".row-title");if(null!==u&&null!==s){var _=document.createElement("textarea");_.innerHTML=s,u.textContent=_.value}}else null!==l&&(l.textContent=i[a])}}r.next?jQuery.post(ajaxurl,{action:"simple_page_ordering",id:r.next.id,previd:r.next.previd,nextid:r.next.nextid,start:r.next.start,_wpnonce:simple_page_ordering_localized_data._wpnonce,screen_id:simple_page_ordering_localized_data.screen_id,excluded:JSON.stringify(r.next.excluded)},e):(jQuery(".spo-updating-row").removeClass("spo-updating-row").find(".check-column").removeClass("spinner is-active"),t.removeClass("spo-updating").sortable("enable"))}else window.location.reload()}var t=jQuery(".wp-list-table tbody");t.sortable({items:"> tr",cursor:"move",axis:"y",containment:"table.widefat",cancel:"input, textarea, button, select, option, .inline-edit-row",distance:2,opacity:.8,tolerance:"pointer",create:function(){jQuery(document).keydown((function(e){var n=e.key||e.keyCode;"Escape"!==n&&"Esc"!==n&&27!==n||(t.sortable("option","preventUpdate",!0),t.sortable("cancel"))}))},start:function(e,t){"undefined"!==typeof inlineEditPost&&inlineEditPost.revert(),t.placeholder.height(t.item.height()),t.placeholder.empty()},helper:function(e,t){for(var n=t.children(),r=0;r<n.length;r++){var i=jQuery(n[r]);i.width(i.width())}return t},stop:function(e,n){t.sortable("option","preventUpdate")&&t.sortable("option","preventUpdate",!1),n.item.children().css("width","")},update:function(n,r){if(t.sortable("option","preventUpdate"))t.sortable("option","preventUpdate",!1);else{t.sortable("disable").addClass("spo-updating"),r.item.addClass("spo-updating-row"),r.item.find(".check-column").addClass("spinner is-active");var i=r.item[0].id.substr(5),a=!1,o=r.item.prev();o.length>0&&(a=o.attr("id").substr(5));var l=!1,d=r.item.next();d.length>0&&(l=d.attr("id").substr(5)),jQuery.post(ajaxurl,{action:"simple_page_ordering",id:i,previd:a,nextid:l,_wpnonce:simple_page_ordering_localized_data._wpnonce,screen_id:simple_page_ordering_localized_data.screen_id},e);for(var s=document.querySelectorAll("tr.iedit"),p=s.length;p--;)0===p%2?jQuery(s[p]).addClass("alternate"):jQuery(s[p]).removeClass("alternate")}}})}();